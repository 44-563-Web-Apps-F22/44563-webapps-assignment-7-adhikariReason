<!DOCTYPE html>
<html lang="en">
<head>
  <title>Treasure Hunt</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"   
    integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script> 
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.min.js" 
    integrity="sha384-7VPbUDkoPSGFnVtYi0QogXtr74QeVeeIs99Qfg5YCF+TidwNdjvaKZX19NZ/e6oz" crossorigin="anonymous"></script>

</head>
<body>
	<h1>Treasure hunt by Reason Adhikari</h1>
	<div>Click on the chests to search for treasure</div>
	<div id="chests">Number of chests checked is zero.</div>
	<div id="score">Score is Unknown.</div>
	<div id="help">Help report</div>
	<br>
	<div class="container">
	<div class="row ">
		<div class="col" onclick="check(0)"><img  id="chest0" src="tchest.png" height="100" width="100"></div>
		<div  class="col" onclick="check(1)" ><img id="chest1" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(2)" ><img id="chest2"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(3)" ><img id="chest3"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(4)" ><img id="chest4" src="tchest.png" height="100" width="100"></div>
	</div>
	<div class="row ">
		<div class="col" onclick="check(5)" ><img id="chest5" src="tchest.png" height="100" width="100"></div>
		<div  class="col" onclick="check(6)"><img id="chest6" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(7)" ><img id="chest7"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(8)" ><img id="chest8"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(9)" ><img id="chest9" src="tchest.png" height="100" width="100"></div>
	</div>
	<div class="row ">
		<div class="col" onclick="check(10)"><img id="chest10" src="tchest.png" height="100" width="100"></div>
		<div  class="col" onclick="check(11)" ><img id="chest11" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="help()" ><img id="helpbtn"  src="help.png" height="100" width="100"></div>
		<div class="col" onclick="check(13)" ><img id="chest13"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(14)" ><img id="chest14"  src="tchest.png" height="100" width="100"></div>
	</div>
	<div class="row ">
		<div class="col" onclick="check(15)" ><img id="chest15" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(16)" ><img id="chest16" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(17)" ><img id="chest17"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(18)" ><img id="chest18" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(19)" ><img id="chest19" src="tchest.png" height="100" width="100"></div>
	</div>
	<div class="row ">
		<div class="col" onclick="check(20)" ><img id="chest20"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(21)" ><img id="chest21" src="tchest.png" height="100" width="100"></div>
		<div  class="col" onclick="check(22)"><img id="chest22" src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(23)" ><img id="chest23"  src="tchest.png" height="100" width="100"></div>
		<div class="col" onclick="check(24)" ><img id="chest24"  src="tchest.png" height="100" width="100"></div>
	</div>
	</div>

	<script>
		let ids = ["chest0","chest1","chest2","chest3","chest4","chest5","chest6","chest7","chest8","chest9",
		"chest10","chest11","helpbtn","chest13","chest14","chest15","chest16","chest17","chest18","chest19","chest20",
		"chest21","chest22","chest23","chest24"]

		let chestCount =0;
		let score =0;
		let lastCheck =12;
		let treasureLocation = rand_treasure_loc();
		function rand_treasure_loc(){
			let num = Math.floor(Math.random()*25)
			if (num==12){
				num = rand_treasure_loc()
				return num;
			}
			return num
		}
		
		function check(position){
			// console.log("Chest Clicked\nPosition: " + position + "	ID: " +ids[position])
			console.log(treasureLocation);
			let chest_id = ids[position];
			if (position==treasureLocation){
				document.getElementById(chest_id).src = "treasure.png"
				score+=1;
			}else{
				document.getElementById(chest_id).src = "echest.png"
			}
			score += 1;
			chestCount+=1;
			document.getElementById("chests").innerHTML = "Number of chests checked is "+chestCount;
			document.getElementById("score").innerHTML = "Your score  is ::::: " +score;
			lastCheck = position;
			//just to make sure
			console.log("Chest Count: "+chestCount + "\nScore: "+ score + "\nLast Checked: "+ lastCheck)
		}
		function help(){
			let last_check_row = Math.floor(lastCheck/5);
			let last_check_col = lastCheck%5;
			let treasure_row = Math.floor(treasureLocation/5);
			let treasure_col = treasureLocation%5;

			let doc = document.getElementById("help")
			if(treasure_col == last_check_col && treasure_row == last_check_row){
				doc.innerHTML = "You already won, NO help Available"
			}else if(treasure_col == last_check_col){
				score += 2;
				if(treasure_row<last_check_row){
					doc.innerHTML = "UP"
				}
				if(treasure_row>last_check_row){
					doc.innerHTML = "DOWN"
				}
			}else if(treasure_row == last_check_row){
				score += 2;
				if(treasure_col < last_check_col){
					doc.innerHTML = "Left"
				}
				if(treasure_col>last_check_col){
					doc.innerHTML = "Right"
				}
			}else{
				doc.innerHTML = "Sorry NOOOOOOOOOOOOO Help Available"
			}
			document.getElementById("score").innerHTML = "Your score  is ::::: " +score;
		}
	</script>

</body>
</html>